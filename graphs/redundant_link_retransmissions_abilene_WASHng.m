
%link retransmissions for abilene topology for WASHng at WASHng-ATLAng link

rt_WASHng_maxRet3 = [150  154  169  147  144  179  153  143  155  137  151  139  172  137  150  163  171  181  151  155;
					307  292  321  310  309  318  310  273  319  296  307  303  315  279  300  312  314  328  290  319;
					615  604  598  624  610  621  610  578  608  574  626  640  628  606  596  596  662  658  565  640;
					929  893  889  931  915  944  930  865  910  908  925  964  939  930  908  923  984  979  863  957;
					1251  1214  1203  1277  1238  1283  1280  1229  1290  1220  1284  1273  1243  1227  1210  1253  1315  1299  1188  1281;
					1614  1599  1528  1589  1542  1633  1603  1546  1549  1569  1588  1591  1586  1563  1554  1612  1677  1646  1540  1628;
					];

rt_WASHng_maxRet2 = [150  154  169  147  144  179  153  143  155  137  151  138  172  137  150  163  171  181  151  155;
					310  291  323  310  313  318  310  273  319  296  307  303  315  279  300  312  314  327  289  318;
					615  604  599  616  612  619  598  575  610  583  617  639  628  607  602  603  644  649  559  645;
					942  909  885  925  917  953  931  857  922  909  935  950  940  924  910  929  970  979  858  959;
					1265  1209  1188  1266  1223  1273  1256  1205  1247  1235  1266  1263  1236  1241  1228  1239  1301  1295  1186  1268;
					1612  1566  1523  1595  1571  1591  1622  1565  1533  1556  1596  1607  1571  1577  1545  1599  1668  1620  1560  1630;
					];

rt_WASHng_maxRet1 = [150  155  166  149  143  175  153  144  152  137  150  137  171  135  153  161  170  178  149  155;
					310  296  322  303  314  316  312  270  309  294  305  300  308  277  302  300  300  321  287  315;
					612  606  586  613  599  615  586  573  594  567  603  640  617  596  593  596  645  634  555  620;
					910  881  859  896  868  913  892  853  899  877  885  942  901  903  890  895  939  960  950  923;
					1226  1181  1161  1233  1185  1236  1224  1173  1210  1181  1239  1230  1197  1167  1207  1184  1260  1250  1142  1232;
					1545  1504  1458  1500  1510  1534  1529  1483  1490  1490  1497  1538  1507  1496  1509  1565  1598  1557  1485  1548;
					];

losses_WASHng_maxRet3 = [100  113  119  96  88  126  104  95  102  92  94  94  116  96  104  102  106  124  106  103;
						202  188  210  209  183  203  215  181  216  194  199  211  203  192  190  193  206  213  190  223;
						414  407  401  435  397  412  421  373  404  380  408  418  400  415  394  374  444  456  366  430;
						616  594  610  638  585  637  603  588  606  581  635  644  572  636  589  579  655  643  582  670;
						808  815  811  865  791  868  850  808  1281  804  840  846  809  804  811  838  894  875  811  856;
						1062  1080  1002  1110  1038  1114  1033  1028  1029  1050  1054  1046  1067  1027  1014  1050  1078  1112  1030  1104;
						] + [ 50  41  50  51  56  53  49  48  53  45  57  45  56  41  46  61  65  57  45  52;
						105  104  111  101  126  115  95  92  103  102  108  92  113  87  110  119  108  115  100  96;
						202  196  197  190  213  208  188  205  204  194  218  222  227  191  203  222  218  202  199  210;
						310  298  279  293  330  306  324  277  304  327  290  320  366  294  317  344  325  336  282  287;
						442  398  389  412  445  410  427  419  410  414  443  426  434  421  396  415  417  424  377  415;
						541  506  524  476  502  518  567  515  517  515  530  542  510  531  541  559  593  534  506  512;
						];

losses_WASHng_maxRet2 = [100  113  119  96  88  126  104  95  102  92  94  92  116  96  104  102  106  124  106  103;
						205  183  212  209  201  203  215  181  216  194  198  211  203  192  190  193  206  219  194  227;
						399  410  405  422  418  413  401  393  426  381  412  414  400  416  395  382  421  418  369  429;
						628  586  603  606  629  636  628  583  602  597  622  621  597  633  582  615  628  658  559  652;
						818  810  775  862  799  842  826  808  845  821  845  831  806  836  830  811  874  836  794  857;
						1066  1058  1026  1099  1037  1095  1061  1050  1004  1051  1051  1074  1053  1057  1016  1047  1117  1090  1067  1109;
						] + [ 50  41  50  51  56  53  49  48  53  45  57  46  56  41  46  61  65  57  45  52;
						105  108  111  101  112  115  95  92  103  102  109  92  113  87  110  119  108  108  96  91;
						217  191  196  194  195  206  198  182  185  202  205  225  227  191  207  221  223  231  191  218;
						313  320  283  320  289  317  301  274  321  312  312  329  341  292  326  317  339  322  300  306;
						437  400  413  404  426  430  427  395  405  410  421  433  434  403  396  431  426  459  393  406;
						542  506  500  495  533  500  556  507  532  504  543  532  517  515  531  553  551  534  492  521;
						];

losses_WASHng_maxRet1 = [106  101  106  106  96  118  108  97  101  85  89  87  121  88  103  112  113  126  101  109;
						200  203  220  200  203  215  225  182  205  190  213  191  215  205  203  198  205  214  185  211;
						405  396  383  407  399  414  385  390  397  378  401  433  411  419  413  387  444  423  380  424;
						614  597  592  643  592  626  636  608  603  598  598  643  590  643  589  603  609  648  947  633;
						856  830  805  843  805  881  833  806  842  831  813  846  824  798  807  795  859  877  802  887;
						1081  1064  1014  1052  1027  1087  1057  1023  1031  1068  1066  1062  1045  1034  1039  1070  1120  1100  1050  1057;
						] + [ 44  54  61  43  48  59  45  47  51  52  61  50  50  48  51  51  58  52  49  46;
						111  93  106  106  115  104  92  90  107  108  93  110  96  74  100  106  100  114  105  106;
						216  220  212  219  210  208  216  186  209  196  216  214  216  187  192  218  217  227  187  213;
						326  300  292  280  303  316  284  263  322  307  317  334  334  288  320  327  354  340  288  310;
						409  394  393  438  429  405  437  401  417  379  471  431  417  422  435  439  449  422  389  397;
						538  524  504  514  532  519  543  518  520  504  517  553  528  534  539  547  566  531  498  559;
						];

probabilities = [0.005; 0.01; 0.02; 0.03; 0.04; 0.05;];

percentage_maxRet3 = abs(rt_WASHng_maxRet3 - losses_WASHng_maxRet3) * 100 ./ rt_WASHng_maxRet3;
percentage_maxRet2 = abs(rt_WASHng_maxRet2 - losses_WASHng_maxRet2) * 100 ./ rt_WASHng_maxRet2;
percentage_maxRet1 = abs(rt_WASHng_maxRet1 - losses_WASHng_maxRet1) * 100 ./ rt_WASHng_maxRet1;

h = plot	(probabilities, mean(percentage_maxRet3,2), 'm.',
			 probabilities, mean(percentage_maxRet2,2), 'b.',
			 probabilities, mean(percentage_maxRet1,2), 'g.'
			);

%h = errorbar(probabilities, mean(percentage_maxRet3,2), ci(percentage_maxRet3)(:,1), ci(percentage_maxRet3)(:,2), 'm.',
%			 probabilities, mean(percentage_maxRet2,2), ci(percentage_maxRet2)(:,1), ci(percentage_maxRet2)(:,2), 'b.',
%			 probabilities, mean(percentage_maxRet1,2), ci(percentage_maxRet1)(:,1), ci(percentage_maxRet1)(:,2), 'g.'
%			);

set(h,'markersize',20);
axis([0 0.05 0 5]);

ax = gca();
set(ax, 'fontsize', 22);
set(ax,'YGrid','on');

b=legend('Max Retransmissions = 3', 'Max Retransmissions = 2', 'Max Retransmissions = 1');
set(b, 'Location', 'northwest');

title('Redundant link layer retransmissions for WASHng at WASHng-ATLAng link');
xlabel('Error probability of links');
ylabel('Percent of redundant link layer retransmissions');